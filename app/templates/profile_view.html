{% extends "base.html" %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}">
<div class="profile-body">
    <div class="profile-img-container">
        <img class="profile-img" src="{{ url_for('static', filename='images/profile_images/' + view_user.profile_photo) }}">
        <div class="user-stats">
            <div class="user-stat-row">
                <label>Posts</label>
                <label>{{ view_user.posts|length }}</label>
            </div>
            <div class="user-stat-row">
                <label>Answers</label>
                <label>{{ view_user.answers|length }}</label>
            </div>
            <div class="user-stat-row">
                <label>Created at</label>
                <label>{{ view_user.date_created.strftime('%d.%m.%Y') if view_user.date_created else 'Unknown' }}</label>
            </div>
        </div>
    </div>
    <div class="profile-info-container">
        <div class="user-view-info">
            <div class="user-view-info-col">
                <label class="commentary">Username</label>
                <label class="username-label">{{ view_user.username }}</label>
            </div>

            {% if view_user.bio %}
            <div class="user-view-info-col">
                <label class="commentary">Bio</label>
                <text class="user-bio">{{ view_user.bio }}</text>
            </div>
            {% endif %}
        </div>
    </div>
</div>

<div class="flash-container">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="alert alert-{{ category }}">
        {{ message }}
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
</div>
{% endblock %}